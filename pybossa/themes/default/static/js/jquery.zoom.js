!function(o){var t={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:!0,onZoomIn:!1,onZoomOut:!1,magnify:1};o.zoom=function(t,e,n,i){var c,l,u,a,r,s,m,h=o(t),f=h.css("position"),d=o(e);return t.style.position=/(absolute|fixed)/.test(f)?f:"relative",t.style.overflow="hidden",n.style.width=n.style.height="",o(n).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:n.width*i,height:n.height*i,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(t),{init:function(){l=h.outerWidth(),c=h.outerHeight(),e===t?(a=l,u=c):(a=d.outerWidth(),u=d.outerHeight()),r=n.width/a,s=n.height/u,m=d.offset()},move:function(t){var e=t.pageX-m.left,i=t.pageY-m.top;if(i=Math.max(Math.min(i,u),0),e=Math.max(Math.min(e,a),0),!blockfollow)if(console.log(""),blockmove){o("#zoomblock").css("width","300px"),o("#zoomblock").css("height","300px");n.width,n.height;n.style.left=e*-r+20+"px",n.style.top=i*-s+20+"px"}else n.style.left=rpx*-r+0+"px",n.style.top=rpy*-s+0+"px",anchura=r*rpw,altura=s*rph,o("#zoomblock").css("width",anchura+"px"),o("#zoomblock").css("height",altura+"px")}}},o.fn.zoom=function(e){return this.each(function(){var n=o.extend({},t,e||{}),i=n.target&&o(n.target)[0]||this,c=this,l=o(c),u=document.createElement("img"),a=o(u),r="mousemove.zoom",s=!1,m=!1;if(!n.url){var h=c.querySelector("img");if(h&&(n.url=h.getAttribute("data-src")||h.currentSrc||h.src),!n.url)return}l.one("zoom.destroy",function(o,t){l.off(".zoom"),i.style.position=o,i.style.overflow=t,u.onload=null,a.remove()}.bind(this,i.style.position,i.style.overflow)),u.onload=function(){var t=o.zoom(i,c,u,n.magnify);function e(e){console.log(""),o("#zoomblock").show(),t.init(),t.move(e),a.stop().fadeTo(o.support.opacity?n.duration:0,1,!!o.isFunction(n.onZoomIn)&&n.onZoomIn.call(u))}function h(){console.log(""),blockstop||(o("#zoomblock").hide(),a.stop().fadeTo(n.duration,0,!!o.isFunction(n.onZoomOut)&&n.onZoomOut.call(u)))}zoompag=t,"grab"===n.on?l.on("mousedown.zoom",function(n){1===n.which&&(o(document).one("mouseup.zoom",function(){h(),o(document).off(r,t.move)}),e(n),o(document).on(r,t.move),n.preventDefault())}):"click"===n.on?l.on("click.zoom",function(n){return s?void 0:(s=!0,e(n),o(document).on(r,t.move),o(document).one("click.zoom",function(){h(),s=!1,o(document).off(r,t.move)}),!1)}):"toggle"===n.on?l.on("click.zoom",function(o){s?h():e(o),s=!s}):"mouseover"===n.on&&(t.init(),l.on("mouseenter.zoom",e).on("mouseleave.zoom",h).on(r,t.move)),n.touch&&l.on("touchstart.zoom",function(o){o.preventDefault(),m?(m=!1,h()):(m=!0,e(o.originalEvent.touches[0]||o.originalEvent.changedTouches[0]))}).on("touchmove.zoom",function(o){o.preventDefault(),t.move(o.originalEvent.touches[0]||o.originalEvent.changedTouches[0])}).on("touchend.zoom",function(o){o.preventDefault(),m&&(m=!1,h())}),o.isFunction(n.callback)&&n.callback.call(u)},u.setAttribute("role","presentation"),u.alt="",u.src=n.url})},o.fn.zoom.defaults=t}(window.jQuery);